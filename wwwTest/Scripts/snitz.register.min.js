function getAge(n){var t=new Date,i=new Date(n),r=t.getFullYear()-i.getFullYear(),u=t.getMonth()-i.getMonth();return(u<0||u===0&&t.getDate()<i.getDate())&&r--,r}function validateDOB(){var e,t,i;if(!dobRequired)return!0;var r=$("#ddYear").val(),u=$("#ddMonth").val(),f=$("#ddDay").val(),n={};return r===""||u===""||f===""?(n["Profile.DateOfBirth"]=errDOB,$("#form1").validate().showErrors(n),!1):(e=getAge(new Date(r,u,f)),t=$("#MinAge").val(),t>0&&e<t)?(n["Profile.DateOfBirth"]=errCaptchaWrong,$("#form1").validate().showErrors(n),!1):(i=$("#form1").validate(),$("#form1").find(".field-validation-error span").each(function(){i.settings.success($(this))}),i.resetForm(),!0)}function pad(n){return n<10?"0"+n:n}$(document).ready(function(){"use strict";var n={};n.ui={verdicts:[strPWeak,strPNormal,strPMedium,strPStrong,strPVStrong],container:"#pwd-container",showVerdictsInsideProgressBar:!0,viewports:{progress:".pwstrength_viewport_progress"}};$("#Password").on("focus",function(){$(".pwstrength_viewport_progress").show()});$("#Password").pwstrength(n)});setConditionalValidators();$(document).ready(function(){function n(n,t){return new Date(t,n,0).getDate()}$.trim($("#div-captcha").html()).length||($("#profile_botcheck").hide(),$("#profile_account").show(),$.trim($("#div-account").html()).length||($("#profile_account").hide(),$.trim($("#div-extras").html()).length?$("#profile_extras").show():$("#profile_register").show(),setRequiredFields()));$(".policy").on("click",".send-adminemail",function(){$.get(SnitzVars.baseUrl+"Account/EmailAdministrator/",function(n){$("#emailContainer").html(n);$.validator.unobtrusive.parse($("#emailMemberForm"));$("#emailModal").modal("show")})});$(".dobdropdown").on("change",function(){var r=$("#ddYear").val(),u=pad($("#ddMonth").val()),o=pad($("#ddDay").val()),f=r+""+u+""+o,e,i,t;f.length===8&&($("#Profile_DateOfBirth").val(f),validateDOB());switch($(this).attr("id")){case"ddYear":$("#ddMonth").prop("disabled",!1);break;case"ddMonth":for(e=n(u,r),i=$("#ddDay"),i.empty(),t=1;t<e+1;t++)i.append($("<option/>",{value:t,text:t}));$("#ddDay").prop("disabled",!1)}});$(document).on("change",".btn-file :file",function(){var n=$(this),t=n.get(0).files?n.get(0).files.length:1,i=n.val().replace(/\\/g,"/").replace(/.*\//,"");n.trigger("fileselect",[t,i])});$(".btn-file :file").on("fileselect",function(n,t,i){var u=$(this).parents(".input-group").find(":text"),r=t>1?t+" files selected":i;u.length?u.val(r):r&&BootstrapDialog.alert({title:"Log",message:r})});$(".btn-next").on("click",function(){switch(this.id){case"btn-captcha":$.ajax({url:SnitzVars.baseUrl+"Account/CaptchaCheck",type:"POST",data:{captcha:$("#Captcha").val()},success:function(){$("#profile_botcheck").hide();$.trim($("#div-account").html()).length?$("#profile_account").show():($("#profile_account").hide(),$.trim($("#div-extras").html()).length?$("#profile_extras").show():$("#profile_register").show())},error:function(){var n={};n.Captcha=errCaptchaWrong;$("#form1").validate().showErrors(n)}});$(this).resetValidation();setRequiredFields();break;case"btn-account":validateDOB()&&$("#form1").valid()&&($("#profile_account").hide(),$.trim($("#div-extras").html()).length?$("#profile_extras").show():$("#profile_register").show(),$(this).resetValidation());break;case"btn-extras":$("#form1").valid()&&($("#profile_account").hide(),$("#profile_extras").hide(),$("#profile_register").show(),$(this).resetValidation());break;default:validateDOB()&&$("#profile_register").show()}});$(".form-control").val(function(n,t){return $(this).data("valConditionalTargetvalue")?$(this).data("valConditionalTargetvalue")==="False"||$(this).attr("placeholder",$(this).attr("placeholder")+"*"):$(this).data("valRequired")&&$(this).data("valRequired")&&$(this).attr("placeholder",$(this).attr("placeholder")+"*"),t.trim()||""});dobRequired=$("#Profile_DateOfBirth").data("valConditionalTargetvalue");$(".dobdropdown").attr("data-val-conditional-targetvalue",dobRequired)});