@using LangResources.Utility
@using WWW.Views.Helpers
@model LangResources.Models.ResourceEntry
@{ Layout = null;}

<div id="resourceEditor">

    @using (Ajax.BeginForm("AddEdit", "LangResource", null,    
        new AjaxOptions
        {
            OnSuccess = "SaveResourceSuccess('New resource created)",
            OnFailure = "SaveResourceFailure",
            UpdateTargetId = "resource-container",
            HttpMethod = "POST",
            LoadingElementId = "loading"
        }, new { @id = "frmResEditor",@class="form-horizontal" }))
    {
        <div class="modal-header">
            <button type="button" class="btn close" data-dismiss="modal" aria-hidden="true"><i class="fa fa-times"></i></button>
            <h4 class="modal-title" id="myModalLabel">@ResourceManager.GetLocalisedString("resEdit", "ResEditor")</h4>
        </div>
        <div class="modal-body clearfix">
            <div class="container-fluid">
                <div class="form-group">
                    <label class="col-xs-3">@ResourceManager.GetLocalisedString("resCulture", "ResEditor")</label>
                    <div class="col-xs-3"><input class="form-control" type="text" name="Culture" id="res-culture" value="@Model.Culture" ></div>
                    
                </div>
                <div class="form-group">
                    <label class="col-xs-3">Resource Set</label>
                    <div class="col-xs-5"><input class="form-control" type="text" name="ResourceSet" id="ResourceSet" value="@Model.ResourceSet"></div>
                </div>
                <div class="form-group">
                    <label class="col-xs-3">Resource Id</label>
                    <div class="col-xs-8"><input class="form-control" type="text" name="Name" value="@Model.Name" @ViewBag.ReadOnly ></div>
                </div>
                <div class="form-group">
                    <label class="col-xs-3">@ResourceManager.GetLocalisedString("resText", "ResEditor")</label>
                    <div class="col-xs-8"><textarea class="form-control" name="Value" rows="3">@Model.Value</textarea></div>
                </div>

                <p>&nbsp;</p>
                <p class="pull-right flip">
                    <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> @ResourceManager.GetLocalisedString("btnCancel", "labels")</button>
                    <button type="button" class="btn btn-primary" id="submitResEditor" ><i class="fa fa-check"></i> @ResourceManager.GetLocalisedString("btnSave", "labels")</button>
                    
                </p>
            </div>
        </div>
        @Html.HiddenFor(m=>m.Id)
    }
</div>
