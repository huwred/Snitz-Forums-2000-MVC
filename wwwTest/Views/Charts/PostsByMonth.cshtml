
<img src="@Url.Action("PostsByMonth","Chart",new {id=2018})" alt="Chart" />
@using WWW.Views.Helpers

@{
    Layout=null;
}
<canvas id="pbmChart" width="800" height="300"></canvas>

@using(Html.BeginScripts()){
<script type="text/javascript">

var GetPostsByMonth = function() {

            $.ajax({  
                type: "POST",  
                url: "/Charts/PostsByMonth/2020",  
                contentType: "application/json; charset=utf-8",  
                dataType: "json",  
                success: function (chData) { 
                    var aData = chData;  
                    var aLabels = aData[0];  
                    var aDatasets1 = aData[1];  
  
                    var ctx = $("#pbmChart");  

                var myNewChart = new Chart(ctx, {  
                    type: 'bar',  
                    autoSkip: false,
                    animation:false,
                    showDataPoints:true,
                    responsive: true,
                    data: {
                        labels: aLabels,  
                        datasets: [{  
                            label: "Posts by Month",  
                            data: aDatasets1,   
                            backgroundColor: 'blue'
                            }]
                    },  
                    options: {
                        scaleShowValues: true,
                        scales: {
                            yAxes: [{
                                ticks: { beginAtZero: true}
                            }],
                            xAxes: [{
                                ticks: {autoSkip: false }
                            }]
                        }
                    }
                });  
            }  
        });      
    }
$(document).ready(function() {

    GetPostsByMonth();

});        
</script>  

}


        